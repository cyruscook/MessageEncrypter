<?php
$typeOfRequest = "encryption";
if(isset($_GET['decryption']))
{
	$typeOfRequest = "decryption";
}

$messageID = addslashes($_GET['id']);
?>
<!DOCTYPE html>
<html>
<head>
	<title>Encrypted Message</title>
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<!-- Password Prompt Modal -->
	<div class="modal fade" id="passwordPromptModal" tabindex="-1" role="dialog" aria-labelledby="passwordPromptModalCenterTitle" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<!-- Modal's Title -->
					<h5 class="modal-title" id="exampleModalLongTitle">Please enter a password</h5>
					<!-- Top right close button -->
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<!-- Modal body (password input) -->
					<input type="password" name="encryptionPassword" id="encryptionPassword"></input>
				</div>
				<div class="modal-footer">
					<!-- Modal Footer (Close/Submit action buttons) -->
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-primary" onclick="onPasswordSubmitted($('passwordPromptModal'));">Encrypt</button>
				</div>
			</div>
		</div>
	</div>
	
	
	
	<div class="container" id="containerBody">
		<form id="encryptForm">
			<textarea class="form-control" id="messageContent"></textarea>
			<br>
			<button id="actionButton" type="submit" class="btn btn-primary" onclick="">Encrypt</button>
		</form>
	</div>
	
	<!--<script src="script.js?type=<?php echo($typeOfRequest); ?>&id=<?php echo($messageID); ?>"></script>-->
	<script src="script.js"></script>
	
	<!-- CryptoJS (https://code.google.com/archive/p/crypto-js/). This is the library with which encryptions will be made -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
</body>
</html>